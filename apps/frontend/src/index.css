@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-border;
  }

  html {
    /* Prevent layout shift from scrollbar */
    overflow-y: scroll;
    /* Smooth scrolling */
    scroll-behavior: smooth;
    /* Force GPU acceleration */
    transform: translateZ(0);
  }

  body {
    @apply bg-background text-foreground;
    font-family:
      system-ui,
      -apple-system,
      sans-serif;
    /* Prevent layout shift */
    min-height: 100vh;
    /* Force scrollbar to always be visible */
    overflow-y: scroll;
    /* Remove any default margin/padding that might cause shift */
    margin: 0;
    padding: 0;
  }

  /* Prevent layout shift during page transitions */
  #root {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
}

@layer utilities {
  /* Prevent navbar flash/re-render visual effect */
  header {
    will-change: auto;
    contain: layout;
    transform: translateZ(0);
    backface-visibility: hidden;
  }

  /* Smooth button transitions in navbar */
  nav button,
  nav a {
    transition:
      background-color 0.2s ease,
      color 0.2s ease,
      transform 0.1s ease;
  }

  /* Prevent repaint during navigation */
  .container {
    transform: translateZ(0);
    backface-visibility: hidden;
  }

  /* Stabilize main content area */
  main {
    contain: layout style;
    will-change: auto;
  }
}
